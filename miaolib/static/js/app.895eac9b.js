(function(e){function t(t){for(var n,s,l=t[0],o=t[1],u=t[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("v-toolbar-title",[e._v(e._s(e.title))])],1),a("v-main",[a("v-container",{staticClass:"ma-3",attrs:{fluid:""}},[a("v-row",{staticClass:"lighten-5 my-2",attrs:{align:"start"}},e._l(e.methodInfos,(function(e){return a("MethodPanel",{key:e.hashcode,staticClass:"mr-4 mb-4",attrs:{method:e}})})),1)],1)],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{dark:"",color:"blue",width:e.fixedWidth?350:void 0,"min-width":e.fixedWidth?void 0:350}},[a("v-card-title",{staticClass:"title"},[e._v(" "+e._s(e.displayName)+" ")]),a("v-card-subtitle",{},[a("div",[e._v(" "+e._s(e.description)+" ")])]),a("v-card-text",{staticClass:"white  pa-1"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pt-0"},e._l(e.method.parameterInfos,(function(t,n){return a("v-text-field",{key:n,attrs:{label:e.getParameterName(t),color:"primary",light:"",hint:t.typeName,type:e.getInputType(t.typeName)},model:{value:e.parameters[n],callback:function(t){e.$set(e.parameters,n,t)},expression:"parameters[index]"}})})),1)],1),a("v-row",[a("v-col",[a("v-btn",{staticClass:"mx-0",attrs:{color:"primary",block:"",loading:e.isExecuting},on:{click:e.execute}},[e._v(" 执行! "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-rocket-launch ")])],1)],1)],1),a("v-slide-x-reverse-transition",{attrs:{"hide-on-leave":""}},[a("v-row",[a("v-col",{staticClass:"pb-0 pt-0"},[a("v-expansion-panels",{model:{value:e.resultPanelExpandState,callback:function(t){e.resultPanelExpandState=t},expression:"resultPanelExpandState"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" 执行结果 ")]),e.method.visualization&&"table"===e.method.visualization.type?a("v-expansion-panel-content",{staticClass:"pa-0",attrs:{color:"secondary"}},[a("v-data-table",{staticClass:"elevation-0",staticStyle:{"border-radius":"0"},attrs:{"no-data-text":e.tableNoResultText,items:e.tableResultValues,headers:e.tableResultHeaders,"footer-props":{itemsPerPageText:""},color:"secondary","items-per-page":"5",light:""}})],1):a("v-expansion-panel-content",{attrs:{color:"secondary"}},[a("TextResultList",{attrs:{"return-values":e.returnValues}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},l=[],o=(a("a4d3"),a("e01a"),a("7db0"),a("4160"),a("d81d"),a("b0c0"),a("a9e3"),a("7039"),a("d3b7"),a("159b"),a("ddb0"),a("3835")),u=(a("96cf"),a("1da1")),c=a("2909"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-timeline",{attrs:{"align-top":"",dense:""}},[a("v-slide-x-reverse-transition",{attrs:{group:"","hide-on-leave":""}},e._l(e.returnValues,(function(t,n){return a("v-timeline-item",{key:-t.timestamp,attrs:{color:"white","fill-dot":"",small:""}},[a("div",[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v("第"+e._s(e.getCurrentReturnValueIndex(n))+"次执行")]),e._v(" @"+e._s(t.displayTime)+" ")]),a("div",{domProps:{innerHTML:e._s(e.lineBreakConvert(t.value))}})])])})),1)],1)},p=[],v=(a("ac1f"),a("5319"),{name:"TextResultList",props:{returnValues:{}},methods:{getCurrentReturnValueIndex:function(e){return this.returnValues.length-e},lineBreakConvert:function(e){return(null===e||void 0===e?void 0:e.replace)?null===e||void 0===e?void 0:e.replace(/\n/g,"<br>"):e}}}),f=v,m=a("2877"),h=a("6544"),b=a.n(h),x=a("0789"),g=a("8414"),y=a("1e06"),V=Object(m["a"])(f,d,p,!1,null,null,null),R=V.exports;b()(V,{VSlideXReverseTransition:x["d"],VTimeline:g["a"],VTimelineItem:y["a"]});var w=function(e){return e?Object(c["a"])(e.entries()):[]},T=function(e){return JSON.parse(JSON.stringify(e))},_=[String,Number,Boolean],k=function(e){return!!_.find((function(t){return t===e.constructor}))},P={name:"MethodPanel",components:{TextResultList:R},props:{method:Object},mounted:function(){var e=this;this.method.parameterInfos.forEach((function(){return e.parameters.push("")}))},data:function(){return{returnValues:[],parameters:[],resultPanelExpandState:[],isExecuting:!1,isExecuted:!1}},methods:{execute:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isExecuting=!0,a=Object(c["a"])(e.parameters),n=0;case 3:if(!(n<e.method.parameterInfos.length)){t.next=19;break}t.t0=e.method.parameterInfos[n].typeName,t.next="number"===t.t0?7:"bool"===t.t0?9:(t.t0,15);break;case 7:return a[n]=+a[n],t.abrupt("break",16);case 9:return r=a[n],i=["T","True","true","1"],s=["F","False","false","0"],i.find(r)&&(a[n]=!0),s.find(r)&&(a[n]=!1),t.abrupt("break",16);case 15:return t.abrupt("break",16);case 16:n++,t.next=3;break;case 19:return t.prev=19,t.next=22,e.$http.post("call/"+e.method.hashcode,a);case 22:l=t.sent,console.dir(l),200===l.status?(o=new Date,e.returnValues.unshift({displayTime:e.getReadableTimeString(o),timestamp:o.getTime(),value:l.data}),e.isExecuted=!0,e.setResultPanelOpen()):alert(l.status+":"+l.data),t.next=31;break;case 27:t.prev=27,t.t1=t["catch"](19),console.dir(t.t1),412===t.t1.request.status&&(console.log(t.t1),alert("找不到指定方法，请刷新页面以拉取最新的数据"));case 31:return t.prev=31,t.next=34,e.$nextTick();case 34:return e.isExecuting=!1,t.finish(31);case 36:case"end":return t.stop()}}),t,null,[[19,27,31,36]])})))()},getReadableTimeString:function(e){return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},setResultPanelOpen:function(){this.resultPanelExpandState=0},getInputType:function(e){switch(e){case"string":return"text";case"number":return"number";case"bool":return"text"}},getParameterName:function(e){return e.displayName?e.displayName:e.name}},computed:{displayName:function(e){var t;return null!==(t=e.method.displayName)&&void 0!==t?t:e.method.name},description:function(e){var t;return null!==(t=e.method.description)&&void 0!==t?t:e.method.name},tableNoResultText:function(e){return e.isExecuted?"返回结果为空":"还未执行过呢"},fixedWidth:function(e){var t=e.method.visualization;return"table"!==(null===t||void 0===t?void 0:t.type)||!!e.tableIsBasicList},tableIsBasicList:function(e){var t,a;return!!(null===(t=e.method.visualization)||void 0===t?void 0:t.isBasicList)||!!(null===(a=e.lastReturnValue)||void 0===a?void 0:a.length)&&k(e.lastReturnValue[0])},lastReturnValue:function(e){return 0===e.returnValues.length||""===e.returnValues[0].value?[]:e.returnValues[0].value},tableResultHeaders:function(e){var t,a,n,r;return null!==(t=e.tableIsBasicList?[{text:"index",value:"index"},{text:"value",value:"value"}]:null===(a=e.method.visualization)||void 0===a||null===(n=a.headers)||void 0===n?void 0:n.map((function(e){return{text:e,value:e}})))&&void 0!==t?t:(null===(r=e.tableResultValues)||void 0===r?void 0:r.length)?Object.getOwnPropertyNames(T(e.tableResultValues[0])).map((function(e){return{value:e,text:e}})):[{text:"无数据",value:"value"}]},tableResultValues:function(e){return e.tableIsBasicList?w(e.lastReturnValue).map((function(e){var t=Object(o["a"])(e,2),a=t[0],n=t[1];return{index:a,value:n}})):e.lastReturnValue}}},O=P,C=(a("bc6d"),a("8336")),E=a("b0af"),S=a("99d9"),j=a("62ad"),I=a("a523"),N=a("8fea"),B=a("cd55"),L=a("49e2"),M=a("c865"),$=a("0393"),z=a("132d"),H=a("0fd9"),J=a("8654"),A=Object(m["a"])(O,s,l,!1,null,null,null),F=A.exports;b()(A,{VBtn:C["a"],VCard:E["a"],VCardSubtitle:S["a"],VCardText:S["b"],VCardTitle:S["c"],VCol:j["a"],VContainer:I["a"],VDataTable:N["a"],VExpansionPanel:B["a"],VExpansionPanelContent:L["a"],VExpansionPanelHeader:M["a"],VExpansionPanels:$["a"],VIcon:z["a"],VRow:H["a"],VSlideXReverseTransition:x["d"],VTextField:J["a"]});var W={name:"App",components:{MethodPanel:F},mounted:function(){var e=this;console.log("./"),this.$http.get("meta-info").then((function(t){document.title=t.data.title,e.title=t.data.title})),this.$http.get("scheme").then((function(t){return e.methodInfos=t.data}))},data:function(){return{methodInfos:[],title:"Loading..."}},methods:{}},D=W,X=(a("034f"),a("7496")),q=a("40dc"),U=a("f6c4"),G=a("2a7f"),K=Object(m["a"])(D,r,i,!1,null,null,null),Q=K.exports;b()(K,{VApp:X["a"],VAppBar:q["a"],VContainer:I["a"],VMain:U["a"],VRow:H["a"],VToolbarTitle:G["a"]});var Y=a("f309"),Z=a("fcf4");n["a"].use(Y["a"]);var ee=new Y["a"]({theme:{themes:{dark:!1,light:{primary:Z["a"].teal.darken1,secondary:Z["a"].green,accent:Z["a"].lightBlue.base}}}}),te=a("2106"),ae=a.n(te),ne=a("bc3a"),re=a.n(ne),ie=a("a925");n["a"].config.productionTip=!1,n["a"].use(ae.a,re.a.create({baseURL:"./"})),n["a"].use(ie["a"]);var se={en:{button:{execute:"Execute!"},title:{executionResults:"Execution Results"}},zh:{button:{execute:"执行!"},title:{executeResult:"执行结果"}}},le=new ie["a"]({locale:"en",labels:se});new n["a"]({i18n:le,vuetify:ee,render:function(e){return e(Q)}}).$mount("#app")},"7a7d":function(e,t,a){},"85ec":function(e,t,a){},bc6d:function(e,t,a){"use strict";a("7a7d")}});
//# sourceMappingURL=app.895eac9b.js.map